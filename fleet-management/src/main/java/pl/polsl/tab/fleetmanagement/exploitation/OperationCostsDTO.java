package pl.polsl.tab.fleetmanagement.exploitation;

import lombok.Getter;
import pl.polsl.tab.fleetmanagement.exploitation.type.OperationTypeDTO;
import pl.polsl.tab.fleetmanagement.exploitation.type.OperationTypeEntity;
import pl.polsl.tab.fleetmanagement.rentings.VehicleRentingsDTO;
import pl.polsl.tab.fleetmanagement.rentings.VehicleRentingsEntity;
import pl.polsl.tab.fleetmanagement.vehicle.VehicleDTO;
import pl.polsl.tab.fleetmanagement.vehicle.VehiclesEntity;

import java.math.BigDecimal;
import java.sql.Date;

@Getter
public class OperationCostsDTO {

    private long id;
    private final Date date;
    private final BigDecimal price;
    private final String description;
    private final VehicleDTO vehicle;
    private final OperationTypeDTO operationType;
    private final VehicleRentingsDTO vehicleRenting;
    private final int keepingId;

    public OperationCostsDTO(Date date, BigDecimal price, String description, VehiclesEntity vehicle,
                             OperationTypeEntity operationType, VehicleRentingsEntity vehicleRenting, int keepingId) {
        this.date = date;
        this.price = price;
        this.description = description;
        this.vehicle = new VehicleDTO(vehicle.getVin(), vehicle.getEquipmentlevel(), vehicle.getMileage(),
                vehicle.getAvgfuelconsumption(), vehicle.getTypesByTypesId(), vehicle.getPurposesByPurposesId(),
                vehicle.getBrandsModelsByBrandsModelsId());
        this.operationType = new OperationTypeDTO(operationType.getName());
        this.vehicleRenting = new VehicleRentingsDTO(vehicleRenting.getStartmileage(), vehicleRenting.getEndmileage(),
                vehicleRenting.getStartdate(), vehicleRenting.getEnddate(), vehicleRenting.getIsbusiness(),
                vehicleRenting.getVehicleUnavailabilityId());
        this.keepingId = keepingId;
    }
}
